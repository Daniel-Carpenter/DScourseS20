source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(VarCovMatrix)
View(stockWeights)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(expectedReturn)
View(stockWeights1)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV9-1 (return).R', echo=TRUE)
View(stockWeights1)
View(df.return)
View(portfolioOptimal)
View(df.return)
debugSource('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
debugSource('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
debugSource('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
debugSource('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
debugSource('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
debugSource('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
debugSource('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
debugSource('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(df.return)
View(expectedReturn)
View(portfolioOptimal)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(VarCovMatrix)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(df.SP500)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(stockWeights1)
View(VarCovMatrix)
View(stockWeights)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(tempVarCovMatVector)
View(tempVarCovMatVector)
View(tempStockWeights)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(df.matrix)
View(df)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(df.return)
View(df.matrix)
View(df.return)
View(df)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(df.excess)
View(df)
View(df.matrix)
View(df.return)
View(df.excess)
View(df.return)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(df.matrix)
View(df.excess)
View(df.return)
View(df)
View(df.excess)
View(df.matrix)
# Calculate Excess Returns
length(df.matrix)
# Calculate Excess Returns
NCOL(df.matrix)
# Calculate Excess Returns
df.excess <-  df.matrix[,1:NCOL(df.matrix)] - df.return[,1:NCOL(df.matrix)] # Stock Price - mean Stock Price
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
traceback()
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(df)
View(df.matrix)
rownames(portfolioOptimal)  <- rownames(t(df.matrix))
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(summaryTable)
View(risk)
View(optimalWeights)
View(VarCovMatrix)
View(df)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
as.data.frame(stockList)
# Calculate Excess Returns
df.excess <-  df.matrix[,1:NCOL(stockList)] - df.return[,1:NCOL(stockList)] # Stock Price - mean Stock Price
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
rownames(stockWeights)  <- stockList
rownames(stockWeights)  <- stockList
# Mutate Data (Drop Cols and Rename)
df <- as.data.frame(df$df.tickers) %>%
select(ref.date,
ticker,
ret.adjusted.prices) %>%
mutate(ref.date = as.Date(ref.date)) %>%
rename(date = ref.date) %>%
rename(stockName = ticker) %>%
rename(stockReturn = ret.adjusted.prices) %>%
drop_na()
stockList
rownames(stockList) <- stockList
View(stockList)
rownames(stockList) <- stockList$stockList
rownames(stockWeights)  <- stockList$stockList
rownames(stockWeights)  <- stockList$stockList
rownames(stockList) <-stockList$stockList
rownames(stockList) <- stockList$stockList
# Mutate Data (Drop Cols and Rename)
df <- as.data.frame(df$df.tickers) %>%
select(ref.date,
ticker,
ret.adjusted.prices) %>%
mutate(ref.date = as.Date(ref.date)) %>%
rename(date = ref.date) %>%
rename(stockName = ticker) %>%
rename(stockReturn = ret.adjusted.prices) %>%
drop_na()
rownames(stockWeights)  <- rownames(stockList)
stockWeights <- t(as.matrix(stockWeights))
stockWeights1 <- stockWeights
rownames(stockWeights)  <- rownames(stockList)
View(stockList)
View(df)
# Stock List to Data Frame
stockList <- as.data.frame(stockList) #Needs to be other object on original pull
rownames(stockList) <- t(colnames(df))
rownames(stockList) <- t(colnames(df.matrix))
rownames(stockList) <- rownames(t(df.matrix)))
rownames(stockList) <- rownames(t(df.matrix))
AAAAA <- t(df.matrix)
View(AAAAA)
rownames(portfolioOptimal)  <- rownames(AAAAA)
stockList <- t(df.matrix)
rownames(stockWeights)  <- rownames(stockList)
View(stockWeights)
colnames(stockWeights)  <- rownames(stockList)
rownames(stockWeights)  <- c("portfolioWeight")
rownames(portfolioOptimal)  <- rownames(stockList)
colnames(portfolioOptimal)  <- c("Stock Weight", "Dollar Investment")
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
colnames(stockWeights)  <- rownames(stockList)
rownames(stockWeights)  <- c("portfolioWeight")
View(stockWeights)
View(stockWeights1)
colnames(stockWeights)  <- c("portfolioWeight")
rownames(stockWeights)  <- rownames(stockList)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(VarCovMatrix)
# Calculate Excess Returns
df.excess <-  df.matrix[,1:NCOL(df.matrix)] - df.return[,1:NCOL(df.matrix)] # Stock Price - mean Stock Price
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(df)
View(df.excess)
View(df.return)
View(df.matrix)
View(df.excess)
View(df.matrix)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(summaryTable)
View(portfolioOptimal)
source('~/DScourseS20/ProblemSets/PS6/PS6_Carpenter.R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
install.packages("xtable")
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(df.visual)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
rlang::last_error()
View(constraintInputs)
View(df)
View(df.excess)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(df.visual)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(portfolioOptimal)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(df.visual)
View(portfolioOptimal)
View(portfolioOptimal)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(portfolioOptimal)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(portfolioOptimal)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(portfolioOptimal)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(portfolioOptimal)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
ggplot(data = portfolioOptimal, aes(
x = "Stock Name",
y = "Dollar Investment",
color = "Stock Name")) +
geom_col() +
theme_minimal() +
labs(title = "Stock Returns",
subtitle = "",
caption = "Data from Yahoo Finance.",
tag = "Figure 1",
x = "Date",
y = "Monthly Return")
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(df.matrix)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(df.return)
View(df.return)
View(df.return)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(exampleData)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(portfolioOptimal)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(exampleData)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(exampleData)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(df)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(exampleData)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(VarCovMatrix)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(df)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(df)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(df.matrix)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(df.excess)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(df.excess)
View(df.matrix)
View(df.excess)
View(df.matrix)
View(df)
View(df.return)
View(df.matrix)
View(df.return)
View(df.return)
traceback()
traceback()
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
View(df.return)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
optimalWeights
optimalWeights$solution
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
optimalWeights$solution
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
df <- pivot_wider(df,
names_from = stockName,
values_from = stockReturn)
# Create Matrix for Var-Cov Matrix Calculation
df.matrix     <- data.matrix(df %>%
select(-date) %>%
drop_na())
df <- pivot_wider(df,
names_from = stockName,
values_from = stockReturn)
df <- pivot_wider(df,
names_from = stockName,
values_from = stockReturn)
# Mutate Data (Drop Cols and Rename)
df <- as.data.frame(df$df.tickers) %>%
select(ref.date,
ticker,
price.adjusted,
ret.adjusted.prices) %>%
mutate(ref.date = as.Date(ref.date)) %>%
rename(date = ref.date) %>%
rename(stockPrice = price.adjusted) %>%
rename(stockName = ticker) %>%
rename(stockReturn = ret.adjusted.prices) %>%
drop_na()
exampleData <- df %>%
mutate(date = as.character(date)) %>%
filter(stockName != '^IRX')
df <- df %>% select(-stockPrice)
library(stargazer)
library(ggthemes)
library(xtable)
# INPUTS  -------------------------------------------------------------------------------------------------------
startDate     <- "2015-01-01"
endDate       <- "2020-03-31"
#df.SP500     <- GetSP500Stocks()
#stockList    <- df.SP500$Tickers
stockList     <- c('JNJ', 'PG', 'JPM') # , 'JPM', 'MSFT', 'AAPL','MMM'
riskFreeRate  <- .0160
desiredReturn       <- 0.10   # 10% = 0.10
dollarsInvested     <- 10000
# DATA PULL -----------------------------------------------------------------------------------------------------
# Make Variables Monthly
desiredReturn <- desiredReturn / 12
tBill <- c('^IRX')
# Pull Stock Data
df <- BatchGetSymbols(tickers = c(tBill, stockList),
first.date = startDate,
last.date = endDate,
freq.data = 'monthly',
cache.folder = file.path(tempdir(), 'BGS_Cache'))
# Mutate Data (Drop Cols and Rename)
df <- as.data.frame(df$df.tickers) %>%
select(ref.date,
ticker,
price.adjusted,
ret.adjusted.prices) %>%
mutate(ref.date = as.Date(ref.date)) %>%
rename(date = ref.date) %>%
rename(stockPrice = price.adjusted) %>%
rename(stockName = ticker) %>%
rename(stockReturn = ret.adjusted.prices) %>%
drop_na()
exampleData <- df %>%
mutate(date = as.character(date)) %>%
filter(stockName != '^IRX')
df <- df %>% select(-stockPrice)
# Create Avg. Return Table (by Stock)
df.return <- as.data.frame(df %>%
filter(stockName != '^IRX') %>%
group_by(stockName) %>%
summarise(avgMonthlyReturn = mean(stockReturn)))
rownames(df.return) = df.return$stockName
df.return <- t(data.matrix(df.return %>%
select(-stockName)))
df <- pivot_wider(df,
names_from = stockName,
values_from = stockReturn)
View(df)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
optimalWeights
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
optimalWeights
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/DScourseS20/FinalProject/Analysis_Carpenter/Analysis/PortfolioOptimizationV13 (newDataPull).R', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(reps)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(reps)
xml_attrs(reps)[["class"]]
install.packages("magick")
source('~/.active-rstudio-document', echo=TRUE)
install.packages("splashr")
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(reps)
View(h)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(xmlList)
